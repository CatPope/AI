from langchain_ollama import OllamaLLM
from langchain_core.output_parsers import StrOutputParser
from langchain_core.prompts import PromptTemplate
from langchain_core.prompts.few_shot import FewShotPromptTemplate
from langchain_teddynote import logging
from langchain_core.prompts.chat import SystemMessagePromptTemplate
from langchain_teddynote.messages import stream_response
from dotenv import load_dotenv
import argparse
import json



load_dotenv()
logging.langsmith("mammothLangchain", set_enable=True)


context = """다들 커피 드셨어요? 오늘 회의는 무겁지 않게 갑시다. 지난번 회의 때 너무 진지하게 들어가다가 점심시간 40분이나 넘긴 거 기억나시죠?
기억 안 날 수가 없죠. 제가 그날 도시락 시켰는데 식은 샌드위치 먹었습니다. 오늘은 분위기 좋게, 빨리 끝내고 점심 따뜻하게 먹는 걸 목표로 합시다.
저 오늘은 도시락 아니고 김밥이에요. 근데 김밥도 식으면 슬프더라고요. 회의 길어지면 속도 식고 김밥도 식고, 저도 식고…
자 자, 그래서 오늘 회의 안건부터 정리합시다. 우선 첫 번째는 이번 분기 복지비 사용 현황 공유, 두 번째는 신규 입사자 온보딩 프로세스 개선안, 마지막으로 우리 부서 자체 워크숍 일정 조율이에요.
복지비부터 말씀드리면요, 현재 2분기 기준 예산의 약 67%를 소진했습니다. 주로 자기계발비랑 도서 구입, 그리고 팀 식대로 나갔고요. 예상보다 도서비 지출이 많았는데, 아무래도 신입들 들어오면서 교육용 자료 요청이 많았습니다.
맞아요. 저도 책 여러 권 샀거든요. 근데 요즘은 종이책보다 PDF가 더 좋아요. 들고 다니기 편하잖아요. 혹시 다음부터 전자책 지원도 가능할까요?
그거 괜찮은 제안이네요. 전자책은 처리 방식이 좀 달라서 회계 쪽이랑 얘기해봐야 하긴 하지만, 사내 지원 포맷을 다양화하는 차원에서 검토할게요. 최대리님, 그 부분 별도 항목으로 정리해두시죠.
네, 체크해둘게요. 그리고 팀 식대 부분은 사용처가 조금 편중된 경향이 있어서, 다음 분기에는 팀별 균형 있게 예산을 재배분할 필요가 있습니다. 지난달만 해도 개발팀은 삼겹살 두 번 먹었는데, 디자인팀은 아직 1회도 사용 못 했더라고요.
아니 그럼 우리도 삼겹살 데이 하나 열어요. 그냥 경영지원부 명목으로 잡으면 되지 않아요?
하하하. 그럼 회의 끝나고 바로 기안 올리세요. “조직 간 화합을 위한 부서 간 협력 식사 회의” 이런 식으로 제목 붙이면 됩니다. 회의실 아니고 고기집에서 회의한다는 의미로.
와 진짜 회의 명분까지 만들어주시다니. 이과장님, 진짜 찐지원입니다.
다음 안건 넘어갈게요. 신규 입사자 온보딩 프로세스인데요, 최근 입사한 신입들 피드백을 종합해보니까, 첫 주에 너무 정보가 한꺼번에 쏟아져서 소화가 어렵다는 의견이 있었어요. 특히 시스템 계정, 복지 안내, 팀별 프로세스 등등이 동시에 설명되니까 정리가 안 된다고요.
저도 그 얘기 들었어요. 그래서 생각한 게, ‘신입 주간 체크리스트’ 형태로 각 항목을 시간 순서대로 분배해서 전달하면 어떨까요? 예를 들면 첫날은 사내 시스템 계정 등록, 둘째 날은 복지 가이드 오리엔테이션, 셋째 날은 팀 배정 후 온사이트 투어 이런 식으로요.
그것도 좋고, 제가 보니까 동영상으로 짧게 만들어서 사내 위키에 올리면 반복해서 보기도 좋을 것 같아요. 꼭 똑같은 설명 계속 안 해도 되고요.
좋은 의견이에요. 그럼 “신입 환영 키트”에 안내지랑 영상 링크 QR코드도 포함해서 구성해보죠. 지금은 텀블러랑 마우스패드만 들어있는데, 실용성도 살리고 정보도 전달하면 좋죠.
일단은 온보딩 개선안은 이 흐름으로 잡고, 다음 주까지 프로토타입 만들고 실제 적용은 다음 입사자부터 해보죠. 다음 입사 일정이 언제죠?
이번 달 말로 예정되어 있습니다. 신입 개발자 한 명, 기획팀 한 명 예정이에요.
좋아요. 마지막 안건, 부서 워크숍. 다들 바쁘겠지만 한 번은 얼굴 맞대고 이야기 나누는 시간 있어야 하지 않겠습니까. 요즘 슬랙만으로는 부족해요. 서로 음소거된 상태로만 일하니까.
근데 진짜 요즘은 퇴근 후에 회사 사람이랑 이야기 나누는 게 더 어색한 분위기예요. 워크숍 가면 서로 말 좀 걸 수 있을 것 같아서 좋아요. 근데 장소는 어디로요?
이번엔 멀리 안 가고, 서울 근교 스터디 카페형 공간 대여해서 반나절 워크숍+점심. 그리고 오후는 자유시간. 이거 괜찮지 않아요?
그러면 그날만큼은 회사 메일 꺼두고 진짜 이야기 나누는 시간 가지죠. 아예 ‘디지털 디톡스 워크숍’이라고 이름 붙이면 더 있어 보입니다.
그럼 저 아이스브레이킹 게임 준비해도 돼요? 예전에 했던 “이건 누구의 사무실인가?” 게임 기억나시죠? 사진 찍어서 맞추는 거요.
그 게임 진짜 재밌었어요. 하긴 그때 우리부서 처음으로 전직원이 한마음으로 웃은 날이었죠. 그럼 정리합시다. 복지비는 다음 분기 균형 재조정 및 전자책 도입 검토, 온보딩 프로세스는 주간 체크리스트+영상 제작, 워크숍은 근교 자유토론형으로 추진. 다들 고생 많으셨습니다.
점심은 오늘 뭐 드시게요?
삼겹살이요. 이미 정해졌어요. 오늘 회의 결론은 삼겹살로 통일입니다."""


examples = [
    {
    "Context": """그래서 저희가 지난주에 말씀드렸던 API 통합 부분인데요 현재 저희 쪽 백엔드에서 내부 구조 정리가 좀 더 필요해서 일단 그 부분 우선순위를 조정했고요 우선 사용자 인증이랑 알림 모듈부터 먼저 연동 진행하고 있습니다. 지금 기준으로는 JWT 기반 토큰 발급까지는 구현이 완료됐고 리프레시 토큰도 Redis에 저장되도록 설정해 놨습니다. 다만 클라이언트 쪽에서 리프레시 토큰 요청 타이밍 관련해서 조금 더 명확한 기준이 필요할 것 같아서요. 30분 무응답 기준으로 자동 요청 들어가게 할지 아니면 명시적으로 로그인 만료 메시지를 띄울지를 결정해 주셔야 합니다.
그리고 공지사항 기능 말씀하셨던 거 관련해서 관리자 페이지에서 작성된 공지가 앱으로 푸시까지 나가야 되는 플로우라서 Firebase 연동은 저희가 진행해놨고 다만 현재 iOS 쪽에서 알림 권한 요청 타이밍이 너무 이르다는 피드백이 있어서 그 부분은 앱 진입 후 일정 행동 이후에 띄우도록 수정할 예정입니다. 안드로이드는 기본 정책상 문제 없고요.
다음으로는 커뮤니티 탭인데 지금 현재 요구사항상 게시판이랑 댓글 좋아요 기능까지만 들어가 있는데 혹시 실시간 알림도 같이 들어가는 게 맞을까요? 예를 들어 누가 댓글 달면 바로 알림이 오도록요. 이건 만약 하게 되면 WebSocket 서버도 별도 구축해야 하고 현재 구조상 알림 큐를 RabbitMQ로 빼두는 걸로 가야 해서 서버 리소스 고려하면 일정에 영향 줄 수 있습니다. 그래서 우선순위 결정해 주시면 그에 맞춰 개발 리소스 배정하겠습니다.
아 그리고 지난번에 요청 주셨던 다국어 대응 부분 저희가 내부적으로 i18n 구조는 적용했는데 아직 번역 텍스트 파일을 받지 못해서 기본 한글 기준으로만 테스트하고 있는 상태입니다. 영문이랑 베트남어 파일 빠르게 주시면 바로 적용 가능합니다. 각 텍스트 키 값은 이미 json 형식으로 관리 중이고 앱에서는 자동으로 해당 언어에 맞는 문자열 불러오게 설정돼 있습니다.
개발 일정 관련해서는 저희가 현재 스프린트 2까지 완료했고요 다음주부터 스프린트 3 들어갑니다. 현재까지는 대략 85% 정도 소화됐고 남은 주요 이슈는 결제 연동 쪽인데요 이 부분은 아직 바이어 쪽에서 PG사 확정이 안 돼서 저희가 샌드박스 환경도 못 연동한 상태입니다. 토스페이먼츠가 유력하다고는 하셨는데 확정되면 바로 샘플 코드 적용하겠습니다. 결제 완료 후 페이지 리디렉션 처리도 필요하신가요? 아니면 앱 내에서 완료 토스트만 띄우면 되는지도 확인 부탁드립니다.
UI 가이드라인 관련해서는 지난번 전달해 주신 디자인 시안 기준으로 작업 중인데 몇몇 컴포넌트가 실제 플랫폼에서 구현 어려운 요소가 있어서 디자이너분이랑 직접 커뮤니케이션하면서 일부 수정 제안 드릴 예정입니다. 예를 들어 iOS에서 적용 어려운 그림자 효과나 특정 뷰 높이가 플랫폼별로 달라지는 문제 같은 부분입니다.
추가로 어드민 페이지 쪽 로그인 보안 강화 요청 주셨던 건 저희가 2차 인증 옵션 추가해놓긴 했는데 이걸 기본 활성화로 할지 관리자 개별 설정 가능하도록 할지 결정이 필요합니다. 현재는 Google OTP 방식으로 연동돼 있고 설정하면 이메일로 QR 발급되도록 돼 있습니다.
데이터베이스 구조는 전반적으로 정규화 마무리됐고 이번 주 내로 ERD 최종본 보내드릴 예정입니다. 혹시 Redis TTL 설정 관련해서 특별한 조건 있으신가요? 현재는 기본 세션 7일 기준으로 설정돼 있고 유저 비활성화 시 자동 삭제되도록 돼 있습니다.
마지막으로 전체 배포 계획인데 저희는 내부적으로 QA 마무리되면 staging 서버에 먼저 올리고 바이어 측 검수 완료되면 실서비스 전환하는 방식으로 예상하고 있습니다. 이때 도메인 연결이랑 SSL 인증서 발급도 같이 진행해야 해서 DNS 관리 권한 확인 부탁드리고요. 배포 자동화는 GitHub Actions 기준으로 이미 세팅돼 있어서 코드 푸시 시 staging 자동 배포됩니다.
이런 일정으로 가면 빠르면 다음 달 둘째 주 정도에 1차 오픈은 가능할 것 같고요 단 앞서 말씀드린 결제 모듈 PG사 확정이 지연되면 전체 일정도 조금 밀릴 수 있습니다. 일단 이번 주까지는 백로그 기준으로 우선순위 조정 다시 한 번 공유드리겠습니다.""",
    "Answer": """## 회의 내용

- 그래서 저희가 지난주에 말씀드렸던 API 통합 부분인데요 현재 저희 쪽 백엔드에서 내부 구조 정리가 좀 더 필요해서 일단 그 부분 우선순위를 조정했고요 우선 사용자 인증이랑 알림 모듈부터 먼저 연동 진행하고 있습니다. 지금 기준으로는 JWT 기반 토큰 발급까지는 구현이 완료됐고 리프레시 토큰도 Redis에 저장되도록 설정해 놨습니다. 다만 클라이언트 쪽에서 리프레시 토큰 요청 타이밍 관련해서 조금 더 명확한 기준이 필요할 것 같아서요. 30분 무응답 기준으로 자동 요청 들어가게 할지 아니면 명시적으로 로그인 만료 메시지를 띄울지를 결정해 주셔야 합니다.
- 그리고 공지사항 기능 말씀하셨던 거 관련해서 관리자 페이지에서 작성된 공지가 앱으로 푸시까지 나가야 되는 플로우라서 Firebase 연동은 저희가 진행해 놨고 다만 현재 iOS 쪽에서 알림 권한 요청 타이밍이 너무 이르다는 피드백이 있어서 그 부분은 앱 진입 후 일정 행동 이후에 띄우도록 수정할 예정입니다. 안드로이드는 기본 정책상 문제 없고요.
- 다음으로는 커뮤니티 탭인데 지금 현재 요구사항상 게시판이랑 댓글 좋아요 기능까지만 들어가 있는데 혹시 실시간 알림도 같이 들어가는 게 맞을까요? 예를 들어 누가 댓글 달면 바로 알림이 오도록요. 이건 만약 하게 되면 WebSocket 서버도 별도 구축해야 하고 현재 구조상 알림 큐를 RabbitMQ로 빼두는 걸로 가야 해서 서버 리소스 고려하면 일정에 영향 줄 수 있습니다. 그래서 우선순위 결정해 주시면 그에 맞춰 개발 리소스 배정하겠습니다.
- 아 그리고 지난번에 요청 주셨던 다국어 대응 부분 저희가 내부적으로 i18n 구조는 적용했는데 아직 번역 텍스트 파일을 받지 못해서 기본 한글 기준으로만 테스트하고 있는 상태입니다. 영문이랑 베트남어 파일 빠르게 주시면 바로 적용 가능합니다. 각 텍스트 키 값은 이미 json 형식으로 관리 중이고 앱에서는 자동으로 해당 언어에 맞는 문자열 불러오게 설정돼 있습니다.
- 개발 일정 관련해서는 저희가 현재 스프린트 2까지 완료했고요 다음 주부터 스프린트 3 들어갑니다. 현재까지는 대략 85% 정도 소화됐고 남은 주요 이슈는 결제 연동 쪽인데요 이 부분은 아직 바이어 쪽에서 PG사 확정이 안 돼서 저희가 샌드박스 환경도 못 연동한 상태입니다. 토스페이먼츠가 유력하다고는 하셨는데 확정되면 바로 샘플 코드 적용하겠습니다. 결제 완료 후 페이지 리디렉션 처리도 필요하신가요? 아니면 앱 내에서 완료 토스트만 띄우면 되는지도 확인 부탁드립니다.
- UI 가이드라인 관련해서는 지난번 전달해 주신 디자인 시안 기준으로 작업 중인데 몇몇 컴포넌트가 실제 플랫폼에서 구현 어려운 요소가 있어서 디자이너분이랑 직접 커뮤니케이션하면서 일부 수정 제안 드릴 예정입니다. 예를 들어 iOS에서 적용 어려운 그림자 효과나 특정 뷰 높이가 플랫폼별로 달라지는 문제 같은 부분입니다.
- 추가로 어드민 페이지 쪽 로그인 보안 강화 요청 주셨던 건 저희가 2차 인증 옵션 추가해 놓긴 했는데 이걸 기본 활성화로 할지 관리자 개별 설정 가능하도록 할지 결정이 필요합니다. 현재는 Google OTP 방식으로 연동돼 있고 설정하면 이메일로 QR 발급되도록 돼 있습니다.
- 데이터베이스 구조는 전반적으로 정규화 마무리됐고 이번 주 내로 ERD 최종본 보내드릴 예정입니다. 혹시 Redis TTL 설정 관련해서 특별한 조건 있으신가요? 현재는 기본 세션 7일 기준으로 설정돼 있고 유저 비활성화 시 자동 삭제되도록 돼 있습니다.
- 마지막으로 전체 배포 계획인데 저희는 내부적으로 QA 마무리되면 staging 서버에 먼저 올리고 바이어 측 검수 완료되면 실서비스 전환하는 방식으로 예상하고 있습니다. 이때 도메인 연결이랑 SSL 인증서 발급도 같이 진행해야 해서 DNS 관리 권한 확인 부탁드리고요. 배포 자동화는 GitHub Actions 기준으로 이미 세팅돼 있어서 코드 푸시 시 staging 자동 배포됩니다.
- 이런 일정으로 가면 빠르면 다음 달 둘째 주 정도에 1차 오픈은 가능할 것 같고요 단 앞서 말씀드린 결제 모듈 PG사 확정이 지연되면 전체 일정도 조금 밀릴 수 있습니다. 일단 이번 주까지는 백로그 기준으로 우선순위 조정 다시 한 번 공유드리겠습니다.

---

## 회의 요약

- 사용자 인증 및 알림 모듈부터 우선 연동 중이며 JWT 및 Redis 기반 구성 완료됨.
- 공지사항 다국어(i18n) 커뮤니티 기능 등 각 모듈별 진행 상황 공유됨.
- 결제 모듈은 PG사 확정 대기 상태이며 일정 지연 가능성 있음.
- 전체 배포는 QA 후 staging → 실서비스로 전환 계획이며 DNS/SSL 확인 필요.
- 주요 우선순위 및 결정사항은 클라이언트 처리 방식 실시간 알림 여부 2차 인증 기본 설정 등.

---

## 결론

- **리프레시 토큰 처리 방식**: 자동 요청 vs 로그인 만료 메시지 → **결정 필요**
- **iOS 알림 권한 요청 타이밍**: 앱 진입 후 사용자 행동 이후로 조정 예정
- **실시간 알림 도입 여부**: WebSocket + RabbitMQ 필요 → **우선순위 결정 요청**
- **다국어 텍스트 파일**: 영문/베트남어 파일 전달 필요 → **바이어 전달 항목**
- **결제 완료 처리 방식**: 리디렉션 vs 토스트 메시지 → **결정 필요**
- **어드민 보안 옵션**: 2차 인증 기본 활성화 여부 → **결정 필요**
- **Redis TTL 설정 조건**: 특별 요구사항 여부 → **확인 요청**
- **도메인 및 SSL 인증서**: DNS 권한 확인 → **바이어 협조 필요**
- **1차 오픈 목표**: 다음 달 둘째 주 (PG사 확정 지연 시 일정 영향)

---""",
    },
    {
    "Context": """API 통합 부분인데요 현재 저희 쪽 백엔드에서 내부 구조 정리가 좀 더 필요해서 일단 그 부분 우선순위를 조정했고요 우선 사용자 인증이랑 알림 모듈부터 먼저 연동 진행하고 있습니다. 지금 기준으로는 JWT 기반 토큰 발급까지는 구현이 완료됐고 리프레시 토큰도 Redis에 저장되도록 설정해 놨습니다.
음 그러면 그 리프레시 토큰은 자동 갱신으로 돌아가는 거예요? 아니면 클라이언트 쪽에서 명시적으로 호출해야 되는 구조인가요?
일단 기본은 자동으로 30분 무응답 기준으로 새로 발급 요청을 날리게 돼 있고요. 다만 클라이언트에서 백그라운드 진입하거나 앱 껐다 켰을 때 같은 케이스에서는 명시적으로 로그인 만료 메시지를 보여주는 방식으로 설계는 해 두었습니다.
그 부분은 UX 차원에서 한번 더 고민해봐야 될 것 같긴 해요. 자동 갱신을 선호하는 유저들도 있지만 보안상 만료 알림을 원하는 쪽도 있어서요.
네 맞습니다. 저희도 그 부분 때문에 옵션으로 제공할 수 있게 설정값 분리해 두었고요. 플러터 쪽에서 Provider 구조 안에 로그인 상태랑 만료 여부를 모니터링하는 흐름으로 구현해 놨어요.
그러면 지금 기준에서 백엔드 쪽은 API 명세 다 정리된 상태죠?
네네 저희 API 문서 Confluence에 올라가 있고 Postman Collection으로도 Export 해뒀습니다. 저희 개발 팀장님께서 오전에 링크 공유드렸을 텐데 혹시 확인하셨을까요?
아 네 받긴 했는데 전체적으로는 잘 정리돼 있더라고요. 다만 일부 필드 명이랑 응답 포맷 쪽에서 기존 저희 시스템이랑 충돌 나는 부분이 있어서 그 부분은 별도 커스텀 처리 가능한지 확인 좀 부탁드립니다.
네 그 부분은 저희 DTO 클래스에서 커스터마이징 가능하고 컨트롤러 쪽에서 매핑 조정하는 걸로 처리 가능합니다. 혹시 특정 필드 예시 있으실까요?
예를 들면 저희는 유저 ID를 user_id로 쓰고 있는데 API에서는 그냥 id로 되어 있더라고요. 이런 식으로 필드 네이밍 차이가 좀 있어서요.
아 네 그거는 매핑 처리 간단히 할 수 있습니다. 프로젝트에서 JSON Naming 전략 자체를 SnakeCase로 바꿔서 통일해도 되고요. 그건 결정만 해주시면 바로 반영 가능해요.
근데 이번에 새로 들어가는 알림 기능 관련해서 푸시 알림 외에 이메일 전송도 병행해야 되는 거 맞죠?
네 맞습니다. 알림 종류별로 우선순위가 달라서 중요한 건 메일로도 가야 하거든요. 예를 들어 결제 실패 같은 건 푸시 + 메일 동시 전송으로요.
그럼 저희가 알림 모듈 쪽에 Type별 우선순위 설정 추가하고 SMTP 연동은 Mailgun 쓰신다고 하셨죠?
네 지금도 Mailgun으로 메일 보내고 있습니다. 인증 토큰만 다시 알려드릴게요.
좋습니다. 그럼 그쪽 설정만 주시면 서버 측에 Mailgun 연동 추가하겠습니다.
그리고 이참에 좀 정리할 게 있는데요. 일정 부분이 자꾸 미뤄지고 있어서 전체 타임라인 다시 리마인드 드릴게요. 이번 주까지는 인증 알림 모듈 그리고 채팅 초기 설정까지 완료해야 하고요. 다음 주에는 예약 기능이랑 결제 연동 쪽으로 들어갑니다.
예약 기능은 캘린더 API 연동 포함인 거죠?
맞습니다. 그 부분은 Google Calendar API랑 자체 캘린더 두 가지 시나리오로 설계돼 있고요. 바이어 쪽에서 결정 주시면 어느 쪽으로든 적용 가능합니다.
저희 내부에서 아직 결론이 안 나긴 했는데 일단은 자체 캘린더 먼저 붙여주시고 나중에 Google 연동은 옵션으로 남겨두죠.
알겠습니다. 그러면 Flutter 쪽에서도 그에 맞춰 UI 구성하겠습니다. 캘린더는 기존에 쓰던 플러그인에서 커스터마이징 들어가야 해서 일정 이슈는 조금 있을 수 있습니다.
그럼 슬랙 알림은요? 저번 회의 때 내부 QA 쪽에서 슬랙 연동 요청했던 걸로 기억하는데…
아 맞습니다. 그건 Webhook URL 받아서 연동만 하면 되는 구조라서요. 이건 QA 완료 후에 알림 대상 설정해서 연결할 수 있습니다.
좋은데… 이번 주 금요일까지 기능 완료라는 게 좀 빠듯한 일정이라서요. 혹시 QA까지는 다음 주 초로 미뤄도 괜찮을까요?
네 뭐 저희도 일정상 여유는 좀 있는 편이니까 QA는 다음 주 월요일까지 마무리해 주시면 괜찮습니다.
그러면 일정 다시 조정해서 공유드릴게요. 오늘 중으로 Notion에 타임라인 업데이트해서 올려두겠습니다.
아 그리고 한 가지 더 혹시 회의록 자동화 기능 검토해보신 거 있나요? 요즘 LLM 이용해서 회의 후 요약 자동으로 해주는 거 많더라고요.
아 네 그것도 내부적으로 PoC 진행 중입니다. Whisper로 음성 전사하고 요약은 langchain이랑 ollama 조합해서 테스트 중이에요. 추후에는 Slack이나 Notion에 자동 업로드하는 구조까지 생각 중입니다.
그거 나중에 되면 데모 한 번 보고 싶네요. 저희도 내부 회의가 많다 보니 시간 절약이 중요해서.
네 알겠습니다. 그 부분은 기능이 좀 더 안정화되면 공유드릴게요. 아무튼 오늘 논의는 여기까지 정리하면 될 것 같습니다.
그럼 제가 오늘 회의록 작성해서 공유드릴게요. 고생 많으셨습니다.""",
    "Answer": """## 회의 내용

- 그래서 저희가 지난주에 말씀드렸던 API 통합 부분인데요 현재 저희 쪽 백엔드에서 내부 구조 정리가 좀 더 필요해서 일단 그 부분 우선순위를 조정했고요 우선 사용자 인증이랑 알림 모듈부터 먼저 연동 진행하고 있습니다. 지금 기준으로는 JWT 기반 토큰 발급까지는 구현이 완료됐고 리프레시 토큰도 Redis에 저장되도록 설정해 놨습니다.
- 음 그러면 그 리프레시 토큰은 자동 갱신으로 돌아가는 거예요? 아니면 클라이언트 쪽에서 명시적으로 호출해야 되는 구조인가요?
- 일단 기본은 자동으로 30분 무응답 기준으로 새로 발급 요청을 날리게 돼 있고요. 다만 클라이언트에서 백그라운드 진입하거나 앱 껐다 켰을 때 같은 케이스에서는 명시적으로 로그인 만료 메시지를 보여주는 방식으로 설계는 해 두었습니다.
- 그 부분은 UX 차원에서 한번 더 고민해봐야 될 것 같긴 해요. 자동 갱신을 선호하는 유저들도 있지만 보안상 만료 알림을 원하는 쪽도 있어서요.
- 네 맞습니다. 저희도 그 부분 때문에 옵션으로 제공할 수 있게 설정값 분리해 두었고요. 플러터 쪽에서 Provider 구조 안에 로그인 상태랑 만료 여부를 모니터링하는 흐름으로 구현해 놨어요.
- 그러면 지금 기준에서 백엔드 쪽은 API 명세 다 정리된 상태죠?
- 네네 저희 API 문서 Confluence에 올라가 있고 Postman Collection으로도 Export 해뒀습니다. 저희 개발 팀장님께서 오전에 링크 공유드렸을 텐데 혹시 확인하셨을까요?
- 아 네 받긴 했는데 전체적으로는 잘 정리돼 있더라고요. 다만 일부 필드 명이랑 응답 포맷 쪽에서 기존 저희 시스템이랑 충돌 나는 부분이 있어서 그 부분은 별도 커스텀 처리 가능한지 확인 좀 부탁드립니다.
- 네 그 부분은 저희 DTO 클래스에서 커스터마이징 가능하고 컨트롤러 쪽에서 매핑 조정하는 걸로 처리 가능합니다. 혹시 특정 필드 예시 있으실까요?
- 예를 들면 저희는 유저 ID를 user_id로 쓰고 있는데 API에서는 그냥 id로 되어 있더라고요. 이런 식으로 필드 네이밍 차이가 좀 있어서요.
- 아 네 그거는 매핑 처리 간단히 할 수 있습니다. 프로젝트에서 JSON Naming 전략 자체를 SnakeCase로 바꿔서 통일해도 되고요. 그건 결정만 해주시면 바로 반영 가능해요.
- 근데 이번에 새로 들어가는 알림 기능 관련해서 푸시 알림 외에 이메일 전송도 병행해야 되는 거 맞죠?
- 네 맞습니다. 알림 종류별로 우선순위가 달라서 중요한 건 메일로도 가야 하거든요. 예를 들어 결제 실패 같은 건 푸시 + 메일 동시 전송으로요.
- 그럼 저희가 알림 모듈 쪽에 Type별 우선순위 설정 추가하고 SMTP 연동은 Mailgun 쓰신다고 하셨죠?
- 네 지금도 Mailgun으로 메일 보내고 있습니다. 인증 토큰만 다시 알려드릴게요.
- 좋습니다. 그럼 그쪽 설정만 주시면 서버 측에 Mailgun 연동 추가하겠습니다.
- 그리고 이참에 좀 정리할 게 있는데요. 일정 부분이 자꾸 미뤄지고 있어서 전체 타임라인 다시 리마인드 드릴게요. 이번 주까지는 인증 알림 모듈 그리고 채팅 초기 설정까지 완료해야 하고요. 다음 주에는 예약 기능이랑 결제 연동 쪽으로 들어갑니다.
- 예약 기능은 캘린더 API 연동 포함인 거죠?
- 맞습니다. 그 부분은 Google Calendar API랑 자체 캘린더 두 가지 시나리오로 설계돼 있고요. 바이어 쪽에서 결정 주시면 어느 쪽으로든 적용 가능합니다.
- 저희 내부에서 아직 결론이 안 나긴 했는데 일단은 자체 캘린더 먼저 붙여주시고 나중에 Google 연동은 옵션으로 남겨두죠.
- 알겠습니다. 그러면 Flutter 쪽에서도 그에 맞춰 UI 구성하겠습니다. 캘린더는 기존에 쓰던 플러그인에서 커스터마이징 들어가야 해서 일정 이슈는 조금 있을 수 있습니다.
- 그럼 슬랙 알림은요? 저번 회의 때 내부 QA 쪽에서 슬랙 연동 요청했던 걸로 기억하는데…
- 아 맞습니다. 그건 Webhook URL 받아서 연동만 하면 되는 구조라서요. 이건 QA 완료 후에 알림 대상 설정해서 연결할 수 있습니다.
- 좋은데… 이번 주 금요일까지 기능 완료라는 게 좀 빠듯한 일정이라서요. 혹시 QA까지는 다음 주 초로 미뤄도 괜찮을까요?
- 네 뭐 저희도 일정상 여유는 좀 있는 편이니까 QA는 다음 주 월요일까지 마무리해 주시면 괜찮습니다.
- 그러면 일정 다시 조정해서 공유드릴게요. 오늘 중으로 Notion에 타임라인 업데이트해서 올려두겠습니다.
- 아 그리고 한 가지 더 혹시 회의록 자동화 기능 검토해보신 거 있나요? 요즘 LLM 이용해서 회의 후 요약 자동으로 해주는 거 많더라고요.
- 아 네 그것도 내부적으로 PoC 진행 중입니다. Whisper로 음성 전사하고 요약은 langchain이랑 ollama 조합해서 테스트 중이에요. 추후에는 Slack이나 Notion에 자동 업로드하는 구조까지 생각 중입니다.
- 그거 나중에 되면 데모 한 번 보고 싶네요. 저희도 내부 회의가 많다 보니 시간 절약이 중요해서.
- 네 알겠습니다. 그 부분은 기능이 좀 더 안정화되면 공유드릴게요. 아무튼 오늘 논의는 여기까지 정리하면 될 것 같습니다.
- 그럼 제가 오늘 회의록 작성해서 공유드릴게요. 고생 많으셨습니다.

---

## 회의 요약

- 리프레시 토큰은 30분 무응답 시 자동 갱신되며 앱 재시작 등 특정 상황에서는 로그인 만료 메시지를 표시함.
- API 명세는 정리 완료됐으며 필드 네이밍 커스터마이징은 지원 가능.
- 알림은 푸시 + 이메일 병행 SMTP는 Mailgun 사용.
- 일정은 인증/알림/채팅 → 예약/결제로 이어지며 예약은 자체 캘린더 우선.
- 슬랙 알림 회의록 자동화 기능도 순차 적용 예정.

---

## 결론

- **토큰 갱신 방식**: 30분 무응답 시 자동 요청 앱 재실행 시 로그인 만료 안내.
- **API 명세 충돌 처리**: 필드명 커스터마이징 가능 SnakeCase 적용 여부 결정 필요.
- **이메일 알림**: Mailgun 연동 설정값 공유 필요 Type 우선순위 설정 추가 예정.
- **캘린더 연동**: 자체 캘린더 우선 구현 Google Calendar는 추후 옵션 적용.
- **슬랙 연동**: Webhook 기반 QA 완료 후 설정 진행.
- **QA 일정 조정**: 기능 완료는 이번 주 QA는 다음 주 월요일까지.
- **회의록 자동화**: Whisper + Langchain 기반 PoC 진행 중 데모 공유 예정.

---""",
    },
    {
    "Context": """아 근데 진짜 요즘 날씨 너무 덥지 않아요? 출근하는데 땀이 줄줄 나더라고요. 엘리베이터 안에서 다들 무표정으로 땀 닦고 있는 거 보면서 아 우리가 참 고생하고 있구나 싶었습니다.
그러니까요. 사무실 에어컨도 시원한 거 같다가도 사람 많아지면 금방 후끈해져요. 저 아침에 집에서 나올 때 진지하게 반차 쓸까 고민했어요.
어이 박주임. 반차 쓸 생각 할 시간에 어제 우리 백엔드 API 로그 정리된 거는 좀 봤어요?
아... 그건 아직… 오늘 오전에 보려고 했는데 갑자기 회의 들어가고 점심 먹고 바로 이 회의여서…
아니 그러면 안 되지. 지금 상황이 얼마나 급한데. 어제도 고객사 쪽에서 메일 두 통이나 왔어요. “이벤트 기록이 누락된다” “에러 코드가 명확하지 않다” 뭐 이런 내용인데. 전부 박주임 파트잖아요?
네 근데 로그 모듈은 이과장님이 초기 설계하신 거라서 구조 파악이 좀 오래 걸렸습니다. 저도 뜯어보긴 했는데…
그러니까요. 구조 파악 오래 걸리니까 이번 기회에 그냥 아예 정리해버리자고요. 로그 포맷 통일하고 에러 코드 매핑도 enum으로 묶고 정리해서 문서화까지. API 명세에도 반영되게요.
네… 그거 시간 얼마나 드릴까요?
오늘 내일 이틀. 근데 가능하면 오늘 저녁까지 1차 정리는 해주세요. 그래야 내일 오전 QA 팀이 테스트 들어갈 수 있어요.
…네 해보겠습니다. 야근각이네요 또.
야근이 문제냐 지금. 박주임 이건 진짜 기회야. 이번 로그 정리 네가 제대로 해두면 나중에 진짜 인프라 자동화 쪽 넘어갈 때 네 이름 들어가는 거예요. 책임지고 구조 만든 사람으로.
그리고 박주임 그것만이 아니에요. 이번에 일정 조정된 거 보셨죠? 채팅 메시지 관련 신규 로직이 들어가게 됐어요. 메시지 별로 중요도 태그 붙여서 정렬하는 거. 그거 설계부터 네가 맡아야 해요. 김팀장님이 너 보고 하라고 하셨습니다.
잠깐만요 그러면 로그 정리에 메시지 태깅까지요? 저 지난주에 오버타임 한 거 아직 회수도 안 됐는데요…
그러니까 이번 기회에 아예 박주임 이름으로 커밋 히스토리를 한 줄로 도배해버려요. GitHub에서 “Blame” 눌렀을 때 박주임 이름만 보이게.
하하 야 그거 좋다. ‘김박주임의 시대’ 열자.
그거 농담이죠? 진짜 다 저한테 몰리는 거 같은데… 혹시 제가 뭐 잘못했나요?
아니요 잘하고 있으니까 그러는 거죠. 일 잘하니까 일 시키는 거예요. 이게 바로 신뢰의 무게라는 겁니다.
신뢰가 아니라 업무 폭탄인 것 같은데… 하…
아 맞다 야 김대리. 박주임이 이번 주 생일이라던데. 일거리를 선물로 줬네?
그렇지. 최고의 선물이지. 야근과 함께하는 성장의 기회. 맛있게 즐기세요 박주임님.
생일 선물이 로그 정리와 태깅 로직이라니… 올해는 진짜 잊지 못할 것 같아요.
농담이고 힘들면 지원 붙여줄 테니까 일단 1차 초안 오늘 중으로 부탁해요. 진짜 고생 많은 거 아는데 박주임이 해줘야 이게 굴러가요.
네… 알겠습니다. 그래도 생일 케이크는 좀 기대해도 되겠죠?
케이크 대신 에러 로그 줄여드립니다. 그게 더 달달해.
하… 오늘도 역시 평화롭네요 우리 팀.""",
    "Answer": """## 회의 내용

- 아 근데 진짜 요즘 날씨 너무 덥지 않아요? 출근하는데 땀이 줄줄 나더라고요. 엘리베이터 안에서 다들 무표정으로 땀 닦고 있는 거 보면서 아 우리가 참 고생하고 있구나 싶었습니다.
- 그러니까요. 사무실 에어컨도 시원한 거 같다가도 사람 많아지면 금방 후끈해져요. 저 아침에 집에서 나올 때 진지하게 반차 쓸까 고민했어요.
- 어이 박주임. 반차 쓸 생각 할 시간에 어제 우리 백엔드 API 로그 정리된 거는 좀 봤어요?
- 아... 그건 아직… 오늘 오전에 보려고 했는데 갑자기 회의 들어가고 점심 먹고 바로 이 회의여서…
- 아니 그러면 안 되지. 지금 상황이 얼마나 급한데. 어제도 고객사 쪽에서 메일 두 통이나 왔어요. “이벤트 기록이 누락된다” “에러 코드가 명확하지 않다” 뭐 이런 내용인데. 전부 박주임 파트잖아요?
- 네 근데 로그 모듈은 이 과장님이 초기 설계하신 거라서 구조 파악이 좀 오래 걸렸습니다. 저도 뜯어보긴 했는데…
- 그러니까요. 구조 파악 오래 걸리니까 이번 기회에 그냥 아예 정리해버리자고요. 로그 포맷 통일하고 에러 코드 매핑도 enum으로 묶고 정리해서 문서화까지. API 명세에도 반영되게요.
- 네… 그거 시간 얼마나 드릴까요?
- 오늘 내일 이틀. 근데 가능하면 오늘 저녁까지 1차 정리는 해주세요. 그래야 내일 오전 QA 팀이 테스트 들어갈 수 있어요.
- …네 해보겠습니다. 야근 각이네요 또.
- 야근이 문제냐 지금. 박주임 이건 진짜 기회야. 이번 로그 정리 네가 제대로 해두면 나중에 진짜 인프라 자동화 쪽 넘어갈 때 네 이름 들어가는 거예요. 책임지고 구조 만든 사람으로.
- 그리고 박주임 그것만이 아니에요. 이번에 일정 조정된 거 보셨죠? 채팅 메시지 관련 신규 로직이 들어가게 됐어요. 메시지별로 중요도 태그 붙여서 정렬하는 거. 그거 설계부터 네가 맡아야 해요. 김 팀장님이 너 보고 하라고 하셨습니다.
- 잠깐만요 그러면 로그 정리에 메시지 태깅까지요? 저 지난주에 오버타임 한 거 아직 회수도 안 됐는데요…
- 그러니까 이번 기회에 아예 박주임 이름으로 커밋 히스토리를 한 줄로 도배해버려요. GitHub에서 “Blame” 눌렀을 때 박주임 이름만 보이게.
- 하하 야 그거 좋다. ‘김박주임의 시대’ 열자.
- 그거 농담이죠? 진짜 다 저한테 몰리는 거 같은데… 혹시 제가 뭐 잘못했나요?
- 아니요 잘하고 있으니까 그러는 거죠. 일 잘하니까 일 시키는 거예요. 이게 바로 신뢰의 무게라는 겁니다.
- 신뢰가 아니라 업무 폭탄인 것 같은데… 하…
- 아 맞다 야 김 대리. 박주임이 이번 주 생일이라던데. 일거리를 선물로 줬네?
- 그렇지. 최고의 선물이지. 야근과 함께하는 성장의 기회. 맛있게 즐기세요 박주임님.
- 생일 선물이 로그 정리와 태깅 로직이라니… 올해는 진짜 잊지 못할 것 같아요.
- 농담이고 힘들면 지원 붙여줄 테니까 일단 1차 초안 오늘 중으로 부탁해요. 진짜 고생 많은 거 아는데 박주임이 해줘야 이게 굴러가요.
- 네… 알겠습니다. 그래도 생일 케이크는 좀 기대해도 되겠죠?
- 케이크 대신 에러 로그 줄여드립니다. 그게 더 달달해.
- 하… 오늘도 역시 평화롭네요 우리 팀.

---

## 회의 요약

- 백엔드 API 로그 정리가 지연되면서 고객사 클레임이 발생 박주임에게 구조 개선 및 문서화를 요청함.
- 로그 포맷 통일 에러 코드 enum 처리 API 명세 반영 포함.
- 채팅 메시지에 중요도 태그 부여 로직 신규 적용 예정 설계 → **박주임 담당**
- 일정은 당일 1차 로그 정리 완료 요청 QA는 다음날 오전 예정.

---

## 결론

- **로그 시스템 리팩토링**: 포맷 통일 에러 코드 enum화 API 문서 반영 → **박주임 담당** **1차 정리 마감: 오늘 저녁**
- **신규 메시지 태깅 로직 설계**: 중요도 태그 기반 정렬 → **박주임 주도 설계**
- **QA 일정**: 로그 정리 완료 기준으로 **내일 오전 테스트**
- **지원 인력 배정 가능성**: 작업량 과중 시 지원 붙여줄 예정

---""",
    },
    {
    "Context": """아침에 그 뉴스 봤어요? 어떤 스타트업이 월요일을 아예 없애고 화~금 10시간제로 전환했다더라고. 주 4일제는 진짜 실현되는 분위기네.
봤죠. 근데 그건 어디까지나 실험적인 거지 아직은 우리가 그걸 바로 적용하긴 현실적으로 무리가 있어요. 솔직히 우리도 일정 돌리기 빠듯한데 하루 줄인다고 하면 그건 직원 복지가 아니라 지옥의 4일이 되겠죠.
하하 맞는 말이에요. 아니 근데 우리 직원들도 요즘 워라밸 얘기 계속 꺼내잖아요. 실리콘밸리에서 근무하던 박이사도 최근에 그런 구조 제안하던데 우리도 장기적으로는 뭔가 제도적 대응이 필요하긴 해요.
맞습니다. 일단 제가 보기엔 근무시간 유연화는 좀 더 단계적으로 접근하는 게 맞을 것 같아요. 주 4일제보다는 코어타임 유지하면서 나머지는 선택적 재택이나 시간 조정 가능하도록 가는 식으로요. 우리 아직도 오전 9시 땡 치면 출근카드 찍고 있는데 그것부터 좀 풀 필요가 있죠.
음 일단 오늘 회의 목적부터 다시 한번 짚고 갑시다. 올해 하반기부터 도입될 내부 개발 가이드라인 그리고 채용 정책 그리고 업무 평가 체계 전면 재정비. 이 세 가지가 주제입니다. 그 중에서도 제일 먼저 다룰 게 개발 가이드라인이죠?
그렇죠. 요즘 각 팀마다 쓰는 툴도 다르고 협업 규칙도 너무 제각각이에요. 형상관리도 GitLab 쓰는 팀 있고 GitHub 쓰는 팀도 있고. 커밋 메시지 포맷도 다르고요. 그러다보니 프로젝트 전환 시 인수인계도 비효율적이고 QA가 일일이 코드를 다 뜯어봐야 하는 상황이 발생하죠.
그렇군요. 근데 이거 예전에도 한번 통합 시도했잖아요? 그때는 왜 실패했었죠?
팀별 자율성을 존중한다는 이유였죠. 사실상 컨트롤이 안 됐습니다. 지금은 그냥 컨벤션 명세라도 문서로만 남아있고 팀장들이 제각각 운영하고 있어요. 이번에는 아예 사내 공통 규약을 공식화하고 Onboarding 단계에서부터 명시하는 걸로 정리해야 합니다.
예. 그럼 일단 통일 가능한 기준부터 정리해서 오는 금요일까지 문서로 정리해 주세요. Git 브랜치 전략 커밋 메시지 스타일 코드 리뷰 프로세스 배포 파이프라인까지 다 포함해서요. 다만 너무 빡빡하게 하면 또 개발자들 반발이 있을 수 있으니까 필수와 권장 기준을 나누는 방식으로 갑시다.
그렇게 정리하겠습니다. 그리고 채용 정책 쪽 얘기로 넘어가자면요 이번 상반기에 이력서 들어온 것 중에 진짜 깜짝 놀란 게 많았습니다. ChatGPT 포트폴리오로 코드 몇 줄 짜와서 붙여넣은 수준인데 겉보기엔 멀쩡한 리액트 앱이에요.
하하 요즘 신입들 포트폴리오 보면 진짜 잘 만들었어요. 근데 자세히 보면 거의 코드 템플릿 돌려 쓴 거고 정작 질문 던지면 다들 말문이 막히더라고요. 실무 대응력이 안 되는 느낌.
맞습니다. 그래서 저 이번에 제안 하나 넣고 싶습니다. 기술 면접 시 '코딩 대화' 방식으로 바꾸자는 겁니다. 그냥 알고리즘 풀게 하지 말고 간단한 기능 명세 하나 던지고 “이거 어떻게 구현할 거냐”고 계속 캐묻는 거죠. 그게 진짜 실력 나옵니다.
그거 좋네요. 실제로 우리도 개발할 때 혼자 문제 푸는 게 아니라 협의하고 토론하는 일이 훨씬 많잖아요. 그걸 반영한 면접이 맞는 방향이죠.
그리고 채용 공고도 좀 바꿔야 합니다. 지금 너무 포멀하게 “책임감 있는 인재” 이런 얘기만 써 있는데 이제는 우리가 쓰는 스택 업무 방식 사용 툴 명확히 나열하고 “이런 환경에서 일할 수 있는 사람”이라고 명시해야 해요. 그래야 지원자도 현실적인 판단을 할 수 있거든요.
맞아요. 지원자도 요즘은 회사 기술스택 보고 들어오거든요. React Native인지 Flutter인지 AWS 쓰는지 GCP 쓰는지. 우리도 명확하게 써야죠.
그러면 채용은 이렇게 정리하고… 마지막으로 업무 평가 체계인데요 이건 예민하죠. 지금 방식은 연말에 성과 정리해서 상대평가 돌리고 있는데 너무 주관적이라는 말이 많습니다. 특히 비개발직군에서는 "정량화가 어렵다"는 불만이 많아요.
그건 내가 들어도 이해가 돼요. 객관적 지표가 부족하니까 결국 팀장이 느낌으로 점수 주는 구조가 돼버렸고 그러다보니 감정 섞이고 잡음 생기고.
그래서 저는 OKR 기반 평가로 전환하자는 겁니다. 각자가 분기마다 목표 설정하고 그 달성률로 성과를 매기는 방식으로요. 이건 팀장 재량을 줄이면서도 직원 스스로도 성장 방향을 그릴 수 있게 합니다.
음… OKR이 잘만 굴러가면 좋긴 한데 현실적으로 각 팀장이 그거 제대로 관리할 여력이 있을까요? 지금도 워낙 바쁜데.
그래서 전담 HRBP 팀이 필요합니다. 사람 수가 많지 않아도 되니까 한 명 정도라도 인사 관점에서 전사 OKR 관리하는 역할을 붙이면 됩니다. 지금 인사 팀장도 이 역할 의지가 있어서 충분히 가능할 것 같고요.
좋습니다. 그럼 정리합시다. 첫째 개발 가이드라인은 이번 주 금요일까지 초안 작성. 둘째 채용은 스택 기반 포지션 소개와 실무형 면접 방식으로 개선. 셋째 평가 체계는 OKR 중심 구조로 전환하고 HRBP 도입 검토. 이 세 가지 안건 바로 임원 회의에 안건 올려서 추진합시다.
네 그렇게 정리하고 바로 실무자들 회의 소집하겠습니다. 그리고 사장님 점심은 오늘도 김밥으로 하실 겁니까?
하하 어제도 김밥이었잖아요. 오늘은 좀 제대로 된 밥 먹죠. 일단 우리부터 워라밸 챙깁시다.
동의합니다. 김밥은 OKR로도 설명이 안 됩니다.""",
    "Answer": """## 회의 내용

- 아 근데 진짜 요즘 날씨 너무 덥지 않아요? 출근하는데 땀이 줄줄 나더라고요. 엘리베이터 안에서 다들 무표정으로 땀 닦고 있는 거 보면서 아 우리가 참 고생하고 있구나 싶었습니다.
- 그러니까요. 사무실 에어컨도 시원한 거 같다가도 사람 많아지면 금방 후끈해져요. 저 아침에 집에서 나올 때 진지하게 반차 쓸까 고민했어요.
- 어이 박주임. 반차 쓸 생각 할 시간에 어제 우리 백엔드 API 로그 정리된 거는 좀 봤어요?
- 아... 그건 아직… 오늘 오전에 보려고 했는데 갑자기 회의 들어가고 점심 먹고 바로 이 회의여서…
- 아니 그러면 안 되지. 지금 상황이 얼마나 급한데. 어제도 고객사 쪽에서 메일 두 통이나 왔어요. “이벤트 기록이 누락된다” “에러 코드가 명확하지 않다” 뭐 이런 내용인데. 전부 박주임 파트잖아요?
- 네 근데 로그 모듈은 이 과장님이 초기 설계하신 거라서 구조 파악이 좀 오래 걸렸습니다. 저도 뜯어보긴 했는데…
- 그러니까요. 구조 파악 오래 걸리니까 이번 기회에 그냥 아예 정리해버리자고요. 로그 포맷 통일하고 에러 코드 매핑도 enum으로 묶고 정리해서 문서화까지. API 명세에도 반영되게요.
- 네… 그거 시간 얼마나 드릴까요?
- 오늘 내일 이틀. 근데 가능하면 오늘 저녁까지 1차 정리는 해주세요. 그래야 내일 오전 QA 팀이 테스트 들어갈 수 있어요.
- …네 해보겠습니다. 야근 각이네요 또.
- 야근이 문제냐 지금. 박주임 이건 진짜 기회야. 이번 로그 정리 네가 제대로 해두면 나중에 진짜 인프라 자동화 쪽 넘어갈 때 네 이름 들어가는 거예요. 책임지고 구조 만든 사람으로.
- 그리고 박주임 그것만이 아니에요. 이번에 일정 조정된 거 보셨죠? 채팅 메시지 관련 신규 로직이 들어가게 됐어요. 메시지별로 중요도 태그 붙여서 정렬하는 거. 그거 설계부터 네가 맡아야 해요. 김 팀장님이 너 보고 하라고 하셨습니다.
- 잠깐만요 그러면 로그 정리에 메시지 태깅까지요? 저 지난주에 오버타임 한 거 아직 회수도 안 됐는데요…
- 그러니까 이번 기회에 아예 박주임 이름으로 커밋 히스토리를 한 줄로 도배해버려요. GitHub에서 “Blame” 눌렀을 때 박주임 이름만 보이게.
- 하하 야 그거 좋다. ‘김박주임의 시대’ 열자.
- 그거 농담이죠? 진짜 다 저한테 몰리는 거 같은데… 혹시 제가 뭐 잘못했나요?
- 아니요 잘하고 있으니까 그러는 거죠. 일 잘하니까 일 시키는 거예요. 이게 바로 신뢰의 무게라는 겁니다.
- 신뢰가 아니라 업무 폭탄인 것 같은데… 하…
- 아 맞다 야 김 대리. 박주임이 이번 주 생일이라던데. 일거리를 선물로 줬네?
- 그렇지. 최고의 선물이지. 야근과 함께하는 성장의 기회. 맛있게 즐기세요 박주임님.
- 생일 선물이 로그 정리와 태깅 로직이라니… 올해는 진짜 잊지 못할 것 같아요.
- 농담이고 힘들면 지원 붙여줄 테니까 일단 1차 초안 오늘 중으로 부탁해요. 진짜 고생 많은 거 아는데 박주임이 해줘야 이게 굴러가요.
- 네… 알겠습니다. 그래도 생일 케이크는 좀 기대해도 되겠죠?
- 케이크 대신 에러 로그 줄여드립니다. 그게 더 달달해.
- 하… 오늘도 역시 평화롭네요 우리 팀.

---

## 회의 요약

- 백엔드 API 로그 정리 지연으로 고객사 클레임 발생. 해당 이슈는 박주임이 구조 개선 및 문서화를 맡기로 함.
- 로그 포맷 통일 에러 코드 enum 정리 API 명세 반영 계획 수립.
- 채팅 메시지에 중요도 태그 추가 로직 설계 예정. → **박주임 담당**
- 오늘 중으로 1차 정리 완료 요청 QA는 내일 오전 테스트 예정.

---

## 결론

- **로그 시스템 리팩토링**: 로그 포맷 통일 에러 코드 enum 적용 API 명세 반영. → **박주임 담당**  **마감**: 오늘 중 1차 완료
- **신규 메시지 태깅 로직 설계**: 메시지 중요도 기준 정렬 로직 설계. → **박주임 담당**
- **QA 일정**: 내일 오전 테스트를 위해 로그 정리 오늘 중 완료 필요

---""",
    }
]



# parser = argparse.ArgumentParser()
# parser.add_argument("--examples", type=str, default="../data/prompts/examples.txt")
# parser.add_argument("--context", type=str, default="../data/prompts/context.txt")
# args = parser.parse_args()

# with open(args.examples, "r", encoding='UTF8') as f:
#     examples = f.read()
# with open(args.context, "r", encoding='UTF8') as f:
#     context = f.read()


llm = OllamaLLM(
    model="qwen3:8b",
    temperature=0
)

example_prompt = PromptTemplate.from_template("Context:\n{context}\nAnswer:\n{answer}\n")

prompt = FewShotPromptTemplate(
    examples=examples,
    example_prompt=example_prompt,
    suffix="Context:\n{context}\nAnswer:\n",
    input_variables=["context"],
)

# chain 생성
chain = prompt | llm | StrOutputParser()

# 결과 출력
res = chain.invoke({"context": context})

print(res)